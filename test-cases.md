# OpenFDA MCP 服务器测试用例

## 🧪 基础功能测试

### 测试1: 搜索常见药物
**提示词**: "请帮我查询阿司匹林(aspirin)的药物标签信息，包括基本信息和不良反应。"

**预期功能**: 
- 使用 `search_drug_labels` 工具搜索 aspirin
- 使用 `get_drug_adverse_reactions` 工具获取不良反应

**验证要点**:
- 返回阿司匹林的基本信息
- 包含制造商信息
- 显示不良反应列表

---

### 测试2: 查询特定品牌药物
**提示词**: "我想了解泰诺(Tylenol)的警告信息和适应症，请帮我查询。"

**预期功能**:
- 使用 `get_drug_warnings` 工具查询警告信息
- 使用 `get_drug_indications` 工具查询适应症

**验证要点**:
- 返回泰诺的警告和注意事项
- 显示适应症和用法信息
- 包含剂量相关信息

---

### 测试3: 比较多种药物
**提示词**: "请帮我比较布洛芬(ibuprofen)和萘普生(naproxen)的不良反应，哪个副作用更少？"

**预期功能**:
- 分别查询两种药物的不良反应
- 进行对比分析

**验证要点**:
- 返回两种药物的不良反应数据
- 提供比较分析
- 给出基于数据的建议

---

## 🔬 高级功能测试

### 测试4: 复杂查询场景
**提示词**: "我是一名医生，需要为患有高血压的糖尿病患者选择止痛药。请帮我查询ACE抑制剂类药物的相关信息，特别关注禁忌症和药物相互作用。"

**预期功能**:
- 搜索ACE抑制剂相关药物
- 查询禁忌症信息
- 分析药物相互作用

**验证要点**:
- 返回相关药物列表
- 详细的禁忌症信息
- 专业的医学建议

---

### 测试5: 批量药物分析
**提示词**: "请帮我分析以下药物的安全性档案：阿莫西林(amoxicillin)、头孢氨苄(cephalexin)、阿奇霉素(azithromycin)。重点关注过敏反应和严重不良事件。"

**预期功能**:
- 批量查询多种抗生素
- 重点分析安全性数据
- 生成综合报告

**验证要点**:
- 每种药物的详细安全性信息
- 过敏反应对比
- 严重不良事件统计

---

## 🎯 专业应用测试

### 测试6: 药物不良反应监测
**提示词**: "作为药物安全监测员，我需要调查最近收到的关于利伐沙班(rivaroxaban)导致出血事件的报告。请帮我查询该药物的出血相关不良反应数据。"

**预期功能**:
- 精确查询特定药物
- 筛选特定类型的不良反应
- 提供监管相关信息

**验证要点**:
- 利伐沙班的详细信息
- 出血相关不良反应数据
- 监管警告信息

---

### 测试7: 儿科用药安全
**提示词**: "请帮我查询适用于儿童的退烧药物信息，特别是对乙酰氨基酚(acetaminophen)在儿科使用中的剂量限制和安全警告。"

**预期功能**:
- 查询儿科适应症
- 获取剂量信息
- 分析安全警告

**验证要点**:
- 儿科使用指南
- 剂量计算信息
- 年龄相关的安全警告

---

## 🔍 边界条件测试

### 测试8: 罕见药物查询
**提示词**: "请帮我查询一个罕见疾病用药：伊马替尼(imatinib)的完整药物信息，包括适应症、不良反应和警告。"

**预期功能**:
- 处理较少见的药物查询
- 返回完整的药物档案

**验证要点**:
- 成功找到罕见药物信息
- 返回完整的数据集
- 处理可能的数据稀少情况

---

### 测试9: 模糊查询处理
**提示词**: "我记得有个治疗心脏病的药，名字好像是'阿托'开头的，能帮我找找吗？可能是阿托伐他汀之类的。"

**预期功能**:
- 处理模糊的药物名称
- 提供可能的匹配结果
- 智能推荐相关药物

**验证要点**:
- 找到阿托伐他汀等相关药物
- 提供多个可能的选项
- 解释搜索逻辑

---

### 测试10: 错误处理测试
**提示词**: "请查询一个不存在的药物：'超级神奇药丸XYZ-999'的信息。"

**预期功能**:
- 优雅处理查询失败
- 提供有用的错误信息
- 建议替代查询方法

**验证要点**:
- 明确说明未找到结果
- 提供搜索建议
- 不会产生系统错误

---

## 📊 性能和可靠性测试

### 测试11: 连续查询测试
**提示词**: "请依次查询以下药物的不良反应：1) 阿司匹林 2) 布洛芬 3) 对乙酰氨基酚 4) 萘普生 5) 双氯芬酸。然后给我一个总结对比。"

**预期功能**:
- 处理多个连续查询
- 维持连接稳定性
- 生成综合分析

**验证要点**:
- 所有查询都成功完成
- 连接保持稳定
- 提供有意义的对比分析

---

### 测试12: 复杂数据处理
**提示词**: "请帮我分析抗抑郁药物的整体安全性趋势，查询至少5种不同的SSRI类药物，比较它们的不良反应模式。"

**预期功能**:
- 处理大量数据查询
- 执行复杂的数据分析
- 生成专业报告

**验证要点**:
- 成功查询多种SSRI药物
- 数据处理无错误
- 提供有洞察力的分析

---

## 🎪 创意应用测试

### 测试13: 教育场景
**提示词**: "我是医学院学生，正在学习心血管药物。请帮我创建一个关于ACE抑制剂的学习资料，包括代表性药物、作用机制、适应症和主要不良反应。"

**预期功能**:
- 教育性内容生成
- 结构化信息展示
- 学习重点提炼

**验证要点**:
- 教育内容准确且全面
- 信息组织清晰
- 适合学习使用

---

### 测试14: 患者咨询场景
**提示词**: "我被医生开了氯吡格雷(clopidogrel)，但我担心副作用。请帮我了解这个药物的常见不良反应，以及我需要注意什么？"

**预期功能**:
- 患者友好的信息展示
- 重点关注安全性
- 提供实用建议

**验证要点**:
- 信息通俗易懂
- 重点突出安全注意事项
- 鼓励与医生沟通

---

## ✅ 测试成功标准

### 功能性标准
- [ ] 所有4个MCP工具都能正常调用
- [ ] 返回的数据格式正确且完整
- [ ] 错误处理机制工作正常
- [ ] 查询响应时间合理（<30秒）

### 数据质量标准
- [ ] 返回的药物信息准确
- [ ] 不良反应数据完整
- [ ] 制造商和品牌信息正确
- [ ] 适应症信息准确

### 用户体验标准
- [ ] 查询结果易于理解
- [ ] 信息组织结构清晰
- [ ] 提供有价值的洞察
- [ ] 响应用户的具体需求

### 技术稳定性标准
- [ ] 连续查询不会导致连接中断
- [ ] 大量数据查询处理正常
- [ ] 网络异常时有适当的错误处理
- [ ] MCP连接保持稳定

---

## 🚀 快速测试命令

如果你想快速验证MCP服务器是否工作正常，可以直接使用以下简单测试：

**简单测试**: "请查询阿司匹林的基本信息和不良反应。"

**中等测试**: "比较布洛芬和对乙酰氨基酚的安全性，哪个更适合长期使用？"

**复杂测试**: "作为药剂师，我需要为一位老年患者推荐安全的止痛药，请分析几种常用止痛药的风险效益比。"
